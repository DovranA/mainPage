<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <a
      id="anchor"
      href="https://dev.tmbiz.info/api/videos/153/download"
      download="test.mp4"
      >test</a
    >
  </body>
  <script>
    const anchorRef = document.createElement('a')
    const downloadUrl = `https://dev.tmbiz.info/api/videos/153/download`
    //   const response = await fetch(downloadUrl, { method: 'GET' })
    //   if (!response.ok) {
    //     throw new Error('Failed to fetch video')
    //   }
    //   console.log(response)
    // const blob = await response.blob()
    // const downloadLink = URL.createObjectURL(blob)
    anchorRef.href = downloadUrl
    anchorRef.innerText = 'test'
    anchorRef.download = `tmbiz-${Date.now()}.mp4` // Optional: Set a filename

    // anchorRef.style.display = 'none' // Hide the anchor element
    document.body.appendChild(anchorRef)
    const clickHandler = (event) => {
      // anchorRef.onload = (eventl) => {
      //   console.log(eventl)
      // }
      console.log(anchorRef.onloadstart)
    }
    anchorRef.onclick = clickHandler
  </script>
</html>
